<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>QuickTip: Utilizing Machine Learning Methods to Identify Important Variables - Proven Inconclusive</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://proven-inconclusive.com/blog/machine_learning_methods_to_identify_important_variables.html">

        <meta name="author" content="Hinrich B. Winther" />
        <meta name="keywords" content=""scientific writing","R","QuickTip"" />
        <meta name="description" content="Machine Learning is the field of scientific study that concentrates on induction algorithms and on other algorithms that can be said to “learn.” [1] In order to identify important variables in a multivariate dataset one can utilize machine learning methods. There are many different machine learning algorithms for different tasks ..." />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://proven-inconclusive.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://proven-inconclusive.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://proven-inconclusive.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://proven-inconclusive.com/theme/css/style.css" type="text/css"/>
        <link href="http://proven-inconclusive.com/css/style.css" rel="stylesheet">

        <link href="http://proven-inconclusive.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Proven Inconclusive ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://proven-inconclusive.com/" class="navbar-brand">
Proven Inconclusive            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://proven-inconclusive.com/pages/about.html">
                             About Me
                          </a></li>
                         <li><a href="http://proven-inconclusive.com/pages/projects.html">
                             Projects
                          </a></li>
                         <li><a href="http://proven-inconclusive.com/pages/publications.html">
                             Publications
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://proven-inconclusive.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://proven-inconclusive.com/blog/machine_learning_methods_to_identify_important_variables.html"
                       rel="bookmark"
                       title="Permalink to QuickTip: Utilizing Machine Learning Methods to Identify Important Variables">
                        QuickTip: Utilizing Machine Learning Methods to Identify Important Variables
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-02-03T00:00:00+01:00"> Tue 03 February 2015</time>
    </span>
            <span class="label label-default">By</span>
            <a href="http://proven-inconclusive.com/author/hinrich-b-winther.html"><i class="fa fa-user"></i> Hinrich B. Winther</a>



<span class="label label-default">Tags</span>
	<a href="http://proven-inconclusive.com/tags/scientific-writing.html">"scientific writing"</a>
        /
	<a href="http://proven-inconclusive.com/tags/r.html">"R"</a>
        /
	<a href="http://proven-inconclusive.com/tags/quicktip.html">"QuickTip"</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <blockquote>
<p>Machine Learning is the field of scientific study that concentrates on induction algorithms and on other algorithms that can be said to “learn.” <span class="citation" data-cites="_glossary_1998">[1]</span></p>
</blockquote>
<p>In order to identify important variables in a multivariate dataset one can utilize machine learning methods. There are many different machine learning algorithms for different tasks. One common task is to decide if a feature vector belongs to a certain class. This can be done with a random forest <span class="citation" data-cites="breiman_random_2001">[2]</span> classifier. In order to do so, one has to train the classifier with training data first. Then the classifier can be used to predict the class of other feature vectors. For demonstration purposes we will use the <a href="https://stat.ethz.ch/R-manual/R-patched/library/datasets/html/iris.html">iris data set</a>. The following R code loads the &quot;randomForest&quot; library and trains a classifier (forest) with the iris data set. The &quot;Species&quot; column is set as the training label.</p>
<pre class="sourceCode R"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">library</span>(randomForest)
&gt;<span class="st"> </span>forest =<span class="st"> </span><span class="kw">randomForest</span>(Species~., <span class="dt">data=</span>iris, <span class="dt">importance=</span><span class="ot">TRUE</span>)
&gt;<span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>forest

Call:
<span class="st"> </span><span class="kw">randomForest</span>(<span class="dt">formula=</span>Species ~<span class="st"> </span>., <span class="dt">data=</span>iris, <span class="dt">importance=</span><span class="ot">TRUE</span>) 
               Type of random forest:<span class="st"> </span>classification
                     Number of trees:<span class="st"> </span><span class="dv">500</span>
No. of variables tried at each split:<span class="st"> </span><span class="dv">2</span>

        OOB estimate of  error rate:<span class="st"> </span><span class="fl">4.67</span>%
Confusion matrix:
<span class="st">           </span>setosa versicolor virginica class.error
setosa         <span class="dv">50</span>          <span class="dv">0</span>         <span class="dv">0</span>        <span class="fl">0.00</span>
versicolor      <span class="dv">0</span>         <span class="dv">47</span>         <span class="dv">3</span>        <span class="fl">0.06</span>
virginica       <span class="dv">0</span>          <span class="dv">4</span>        <span class="dv">46</span>        <span class="fl">0.08</span></code></pre>
<p>In this example the classifier achieves an out-of-bag (oob) error rate of 4.67%. There is no need for other tests, such as cross-validation, to get an unbiased estimate of the test set error as each tree is created with a different bootstrap sample <span class="citation" data-cites="breiman_random_2001">[2]</span>.</p>
<p>The classifier saves information on feature importance (&quot;importance=TRUE&quot;). We can use this information in order to identify potentially import variables in the data set. The following R code extracts this information from the classifier and visualizes the data using ggplot2.</p>
<pre class="sourceCode R"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">library</span>(ggplot2)
&gt;<span class="st"> </span>forest.importance =<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">importance</span>(forest, <span class="dt">scale=</span><span class="ot">FALSE</span>))
&gt;<span class="st"> </span>forest.importance =<span class="st"> </span>forest.importance[,<span class="dv">1</span>:(<span class="kw">ncol</span>(forest.importance)-<span class="dv">2</span>)]
&gt;<span class="st"> </span>forest.importance$mean =<span class="st"> </span><span class="kw">rowMeans</span>(forest.importance)
&gt;
<span class="er">&gt;</span><span class="st"> </span>forest.importance</code></pre>
<table>
<caption>Table 1: Feature importance table with calculated mean column.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">feature</th>
<th style="text-align: right;">setosa</th>
<th style="text-align: right;">versicolor</th>
<th style="text-align: right;">virginica</th>
<th style="text-align: right;">mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Sepal.Length</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.046</td>
<td style="text-align: right;">0.034</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sepal.Width</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.003</td>
<td style="text-align: right;">0.011</td>
<td style="text-align: right;">0.007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Petal.Length</td>
<td style="text-align: right;">0.349</td>
<td style="text-align: right;">0.322</td>
<td style="text-align: right;">0.324</td>
<td style="text-align: right;">0.332</td>
</tr>
<tr class="even">
<td style="text-align: left;">Petal.Width</td>
<td style="text-align: right;">0.305</td>
<td style="text-align: right;">0.289</td>
<td style="text-align: right;">0.267</td>
<td style="text-align: right;">0.287</td>
</tr>
</tbody>
</table>
<pre class="sourceCode R"><code class="sourceCode r"><span class="kw">ggplot</span>(forest.importance, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">row.names</span>(forest.importance), <span class="dt">y=</span>mean)) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;mean relative feature importance&#39;</span>) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;feature&#39;</span>) +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&#39;identity&#39;</span>)</code></pre>
<figure>
<img src="http://proven-inconclusive.com/images/R/ml_mean_relative_feature_importance.svg" alt="Figure 1: Mean relative feature importance learned by a random forest classifier on the iris data set." /><figcaption>Figure 1: Mean relative feature importance learned by a random forest classifier on the iris data set.</figcaption>
</figure>
<div class="references">
<h2>References</h2>
<p>1. Glossary of terms. Machine Learning [Internet] 1998 Feb [cited 2015 Feb 3TZ];30(2-3):271–274. Available from: <a href="http://link.springer.com/article/10.1023/A%3A1017181826899">http://link.springer.com/article/10.1023/A%3A1017181826899</a></p>
<p>2. Breiman L. Random forests. Machine Learning [Internet] 2001 Oct [cited 2015 Feb 3TZ];45(1):5–32. Available from: <a href="http://link.springer.com/article/10.1023/A%3A1010933404324">http://link.springer.com/article/10.1023/A%3A1010933404324</a></p>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'proven-inconclusive'; // required: replace example with your forum shortname

                    var disqus_identifier = 'machine_learning_methods_to_identify_important_variables';
                var disqus_url = 'http://proven-inconclusive.com/blog/machine_learning_methods_to_identify_important_variables.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="mailto:hbwinther@metalabs.de"><i class="fa fa-email-square fa-lg"></i> EMail</a></li>
                <li class="list-group-item"><a href="http://twitter.com/hbwinther"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="http://github.com/liob/"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="https://bitbucket.org/hbwinther"><i class="fa fa-bitbucket-square fa-lg"></i> BitBucket</a></li>
                <li class="list-group-item"><a href="https://www.facebook.com/hbwinther"><i class="fa fa-facebook-square fa-lg"></i> Facebook</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/hbwinther"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
                <li class="list-group-item"><a href="http://proven-inconclusive.com/feeds/all.atom.xml"><i class="fa fa-rss-square fa-lg"></i> RSS</a></li>
              </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="http://proven-inconclusive.com/blog/machine_learning_methods_to_identify_important_variables.html">
                            QuickTip: Utilizing Machine Learning Methods to Identify Important Variables
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://proven-inconclusive.com/blog/spearman_correlation_heat_map_with_correlation_coefficient_and_significance_in_r.html">
                            Spearman Correlation Heat Map with Correlation Coefficients and Significance Levels in R
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://proven-inconclusive.com/blog/scientific_blogging_with_pelican_and_pandoc.html">
                            Scientific Blogging with Pelican and Pandoc
                        </a>
                    </li>
                </ul>
            </li>


            <li class="list-group-item"><a href="http://proven-inconclusive.com/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://proven-inconclusive.com/tags/scientific-writing.html">
                            "scientific writing"
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://proven-inconclusive.com/tags/r.html">
                            "R"
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://proven-inconclusive.com/tags/quicktip.html">
                            "QuickTip"
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4></li>
    <div id="twitter_timeline">
        <a class="twitter-timeline" data-chrome="noheader" href="https://twitter.com/hbwinther" data-widget-id="481049923681406977">Tweets by hbwinther</a>
    </div>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://www.r-bloggers.com" target="_blank">
                R-bloggers
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://abstractnonsense.de" target="_blank">
                Christian Hundt
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.randalolson.com/blog/" target="_blank">
                Randy Olson
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Hinrich B. Winther
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://proven-inconclusive.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://proven-inconclusive.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://proven-inconclusive.com/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'proven-inconclusive'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Piwik -->
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);

        (function() {
            var u=(("https:" == document.location.protocol) ? "https://tools.metalabs.de/piwik/" : "http://tools.metalabs.de/piwik/");
            _paq.push(["setTrackerUrl", u+"piwik.php"]);
            _paq.push(["setSiteId", "3"]);
            var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
            g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Piwik Code -->
</body>
</html>